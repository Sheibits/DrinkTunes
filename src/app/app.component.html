<div *ngIf="router.url !== '/login'">
  <mat-toolbar
    color="primary"
    class="custom-toolbar"
    style="background-color: #003366; color: white; display: flex; justify-content: space-between; align-items: center;"
  >
    <!-- Sección izquierda: Botones de navegación -->
    <span style="display: flex; align-items: center;">
      <button mat-button routerLink="/home" style="color: white;">
        <mat-icon style="color: white;">home</mat-icon> Home
      </button>
      <button mat-button [matMenuTriggerFor]="menuUser" style="color: white;" *ngIf="permissions?.['users']">
        <mat-icon style="color: white;">person</mat-icon> Usuarios
      </button>
      <button mat-button [matMenuTriggerFor]="menuRole" style="color: white;" *ngIf="permissions?.['roles']">
        <mat-icon style="color: white;">security</mat-icon> Roles
      </button>
      <button mat-button [matMenuTriggerFor]="menuRestaurant" style="color: white;" *ngIf="permissions?.['restaurants']">
        <mat-icon style="color: white;">store</mat-icon> Restaurantes
      </button>
      <button mat-button [matMenuTriggerFor]="menuRestaurantAds" style="color: white;" *ngIf="permissions?.['restaurant_ads']">
        <mat-icon style="color: white;">campaign</mat-icon> Anuncios de Restaurantes
      </button>
      <button mat-button [matMenuTriggerFor]="menuNotifications" style="color: white;" *ngIf="permissions?.['notifications']">
        <mat-icon style="color: white;">notifications</mat-icon> Notificaciones
      </button>
      <button mat-button [matMenuTriggerFor]="menuMessages" style="color: white;" *ngIf="permissions?.['messages']">
        <mat-icon style="color: white;">message</mat-icon> Mensajes
      </button>
      <button mat-button [matMenuTriggerFor]="menuArtistProfile" style="color: white;" *ngIf="permissions?.['artist_profiles']">
        <mat-icon style="color: white;">brush</mat-icon> Perfiles de Artistas
      </button>
      <button mat-button [matMenuTriggerFor]="menuArtistApplication" style="color: white;" *ngIf="permissions?.['artist_applications']">
        <mat-icon style="color: white;">assignment</mat-icon> Aplicaciones de Artista
      </button>
      <button mat-button [matMenuTriggerFor]="menuReports" style="color: white;">
        <mat-icon style="color: white;">assessment</mat-icon>
        Reportes
      </button>
    </span>

    <!-- Botón de Cerrar Sesión: Extremo derecho -->
    <button mat-button (click)="logout()" style="color: white; margin-left: auto;">
      <mat-icon style="color: white;">logout</mat-icon> Cerrar Sesión
    </button>
  </mat-toolbar>

  <!-- Menús -->
  <mat-menu #menuUser="matMenu">
    <button mat-menu-item routerLink="/users" class="custom-menu-item" style="color: #003366;" *ngIf="permissions?.['users']">
      Listar Usuarios
    </button>
    <button mat-menu-item routerLink="/users/new" class="custom-menu-item" style="color: #003366;" *ngIf="permissions?.['users']">
      Registrar Usuario
    </button>
  </mat-menu>

  <mat-menu #menuRole="matMenu">
    <button mat-menu-item routerLink="/roles" class="custom-menu-item" style="color: #003366;" *ngIf="permissions?.['roles']">
      Listar Roles
    </button>
    <button mat-menu-item routerLink="/roles/new" class="custom-menu-item" style="color: #003366;" *ngIf="permissions?.['roles']">
      Registrar Rol
    </button>
  </mat-menu>

  <mat-menu #menuRestaurant="matMenu">
    <button mat-menu-item routerLink="/restaurants" class="custom-menu-item" style="color: #003366;" *ngIf="permissions?.['restaurants']">
      Listar Restaurantes
    </button>
    <button mat-menu-item routerLink="/restaurants/new" class="custom-menu-item" style="color: #003366;" *ngIf="permissions?.['restaurants']">
      Registrar Restaurante
    </button>
  </mat-menu>

  <mat-menu #menuRestaurantAds="matMenu">
    <button mat-menu-item routerLink="/restaurant_ads" class="custom-menu-item" style="color: #003366;" *ngIf="permissions?.['restaurant_ads']">
      Listar Anuncios de Restaurantes
    </button>
    <button mat-menu-item routerLink="/restaurant_ads/new" class="custom-menu-item" style="color: #003366;" *ngIf="permissions?.['restaurant_ads']">
      Registrar Anuncio de Restaurante
    </button>
  </mat-menu>

  <mat-menu #menuNotifications="matMenu">
    <button mat-menu-item routerLink="/notifications" class="custom-menu-item" style="color: #003366;" *ngIf="permissions?.['notifications']">
      Listar Notificaciones
    </button>
    <button mat-menu-item routerLink="/notifications/new" class="custom-menu-item" style="color: #003366;" *ngIf="permissions?.['notifications']">
      Registrar Notificación
    </button>
  </mat-menu>

  <mat-menu #menuMessages="matMenu">
    <button mat-menu-item routerLink="/messages" class="custom-menu-item" style="color: #003366;" *ngIf="permissions?.['messages']">
      Listar Mensajes
    </button>
    <button mat-menu-item routerLink="/messages/new" class="custom-menu-item" style="color: #003366;" *ngIf="permissions?.['messages']">
      Registrar Mensaje
    </button>
  </mat-menu>

  <mat-menu #menuArtistProfile="matMenu">
    <button mat-menu-item routerLink="/artist-profiles" class="custom-menu-item" style="color: #003366;" *ngIf="permissions?.['artist_profiles']">
      Listar Perfiles de Artistas
    </button>
    <button mat-menu-item routerLink="/artist-profiles/new" class="custom-menu-item" style="color: #003366;" *ngIf="permissions?.['artist_profiles']">
      Registrar Perfil de Artista
    </button>
  </mat-menu>

  <mat-menu #menuArtistApplication="matMenu">
    <button mat-menu-item routerLink="/artist-applications" class="custom-menu-item" style="color: #003366;" *ngIf="permissions?.['artist_applications']">
      Listar Aplicaciones de Artista
    </button>
    <button mat-menu-item routerLink="/artist-applications/new" class="custom-menu-item" style="color: #003366;" *ngIf="permissions?.['artist_applications']">
      Registrar Aplicación de Artista
    </button>
  </mat-menu>
  <!-- Menú de reportes -->
<mat-menu #menuReports="matMenu">
  <!-- Reporte: Distribución de Roles (exclusivo para ADMIN) -->
  <button
    mat-menu-item
    routerLink="/reportes/role-distribution"
    class="custom-menu-item"
    style="color: #003366;"
    *ngIf="permissions?.['role_distribution']"
  >
    <mat-icon style="color: #003366;">pie_chart</mat-icon>
    Distribución de Roles
  </button>

  <!-- Reporte: Resumen de Actividades (exclusivo para ADMIN) -->
  <button
    mat-menu-item
    routerLink="/reportes/activity-summary"
    class="custom-menu-item"
    style="color: #003366;"
    *ngIf="permissions?.['activity_summary']"
  >
    <mat-icon style="color: #003366;">bar_chart</mat-icon>
    Resumen de Actividades
  </button>

  <!-- Reporte: Mensajes por Usuario (disponible para todos los roles) -->
  <button
    mat-menu-item
    routerLink="/reportes/messages-by-user"
    class="custom-menu-item"
    style="color: #003366;"
    *ngIf="permissions?.['messages_by_user']"
  >
    <mat-icon style="color: #003366;">mail</mat-icon>
    Mensajes por Usuario
  </button>

  <!-- Reporte: Anuncios por Restaurante (disponible para todos los roles) -->
  <button
    mat-menu-item
    routerLink="/reportes/ads-by-restaurant"
    class="custom-menu-item"
    style="color: #003366;"
    *ngIf="permissions?.['ads_by_restaurant']"
  >
    <mat-icon style="color: #003366;">storefront</mat-icon>
    Anuncios por Restaurante
  </button>
</mat-menu>
</div>

<router-outlet></router-outlet>
